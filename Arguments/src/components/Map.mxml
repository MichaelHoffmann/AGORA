<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:fx="http://ns.adobe.com/mxml/2009" 
		   xmlns:s="library://ns.adobe.com/flex/spark" 
		   xmlns:mx="library://ns.adobe.com/flex/mx"
		   xmlns:classes="classes.*" xmlns:components="components.*">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<s:VGroup id="container" paddingBottom="10" paddingTop="10">			
		<s:HGroup id="topPanel" gap="10">
			<s:Button id="gotoMenuBtn" label="Home" width="150">
			</s:Button>
			<s:Button id="saveAsBtn" label="Save Map As" visible="true" width="150">
			</s:Button>
		</s:HGroup>
		<s:Scroller id="agora">	
			<s:Group>
				<mx:Canvas>
					<components:AgoraMap id="agoraMap" backgroundColor="0xffffff">	
						<mx:Canvas id="canvas" width="150" visible="false">
							<mx:Text width="150" height="140" id="helpTxt">
								<mx:htmlText>
									<![CDATA[<u>Support:</u><br /> <br />Keep in mind that a claim can be descriptive ("it is the case that â€¦") or normative (e.g., "we should do x")
									]]>
								</mx:htmlText>
							</mx:Text>
						</mx:Canvas>
					</components:AgoraMap>	
				</mx:Canvas>
			</s:Group>
		</s:Scroller>
	</s:VGroup>
	
	<fx:Script>
		<![CDATA[
			import Controller.LayoutController;
			
			import classes.ClaimAddedEvent;
			import classes.UserData;
			
			import flash.display.*;
			
			import mx.binding.utils.BindingUtils;
			import mx.controls.Alert;
			import mx.controls.Label;
			import mx.controls.Text;
			import mx.core.Application;
			import mx.core.FlexGlobals;
			import mx.core.UIComponent;
			import mx.events.FlexEvent;
			
			import spark.components.Group;
			import spark.primitives.Graphic;
			public var numComponentsX:int;
			public var numComponentsY:int;
			public var layoutManager:LayoutController;
			
			public function hideMap():void
			{
				var canvas:Canvas = Canvas(this.parent.getChildByName("agoraMenu"));
				canvas.visible = true;
				Group(this.parent).removeElement(this);
				FlexGlobals.topLevelApplication.loadMapList();
				FlexGlobals.topLevelApplication.loadMyMapList();
			}
			
			public function discardChanges(event:Event):void
			{
				hideMap();	
			}
			
			public function setWidth(event: Event):void
			{
				FlexGlobals.topLevelApplication.map.agora.height =  FlexGlobals.topLevelApplication.map.stage.stageHeight - FlexGlobals.topLevelApplication.map.topPanel.height - FlexGlobals.topLevelApplication.map.container.gap - 50;
				FlexGlobals.topLevelApplication.map.agora.width = FlexGlobals.topLevelApplication.map.stage.stageWidth - 50;
			}
			
		]]>
	</fx:Script>
</mx:Canvas>
